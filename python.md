# python

# Jupyter Notebook

## 安装

- `python -m pip install --upgrade pip`  

1. `python -m pip install jupyter`  使用pip安装jupyter notebook
   1. 加上  -i https://pypi.tuna.tsinghua.edu.cn/simple/ 来使用国内源

- （win10）安装成功后，终端会提示success 字样。然后在你想要打开的路径（因为jupyter运行后是浏览器开一个网页）新建一个bat文件，内容:chestnut:  

```
rem -- start_jupyter_notebook.bat ---
jupyter notebook
pause
```

- 双击启动就行，以管理员身份运行的话会看不到路径下的文件。会自动跳出网页
  - 或是访问，http://localhost:8888/tree  
- 至此，基本可以使用~

## 基础

### 列表和元组

- 列表和元组，都是一个可以放置任意数据类型的有序集合
- 都支持负数索引，-1表示最后一个元素，-2表示倒数第二个
- 都支持切片操作
- 都可以随意嵌套

```python
l = [[1, 2, 3], [4, 5]] # 列表的每一个元素也是一个列表
tup = ((1, 2, 3), (4, 5, 6)) # 元组的每一个元素也是一元组
```

- 都可通过list() 和tuple()函数相互转换

---

- 列表是动态的，长度大小不固定，可随意增加、删减或改变元素，mutable

1. 元组是静态的，长度大小固定，immutable

2. 所以，就影响到了两者的存储方式。
   1. 用`l._sizeof_()`  来看存数空间，元组比列表要少16字节
   2. 因为列表是动态的，所以需要存储指针，来指向对应的元素（比如int型就是8字节）；而且列表可变，所以需要额外存储已经分配的长度大小（8字节）
   3. 这样才能实时追踪列表控件的使用情况。空间不足时及时分配额外空间

- 列表和元组的性能

1. 如若想要增加、删除或是改变元素，那么列表显然更优。因为对元组来说，必须要新建一个元祖才行

- 使用场景

1. 如若存储的数据和数量不变，比如需要返回的是地点经纬度，传给前端渲染，那么肯定是选用元组更合适
2. 如若存储的数据或数量可变，比如社交平台的日志、统计某用户在一段时间内看了哪些帖子，用列表合适

### 字典和集合

- 相比上面两个，字典性能更优，特别是对于查找、添加和删除操作
- 字典和集合，无论是键还是值，都可以是混合类型
- 都支持增加、删除、更新操作
  - 集合的pop()，会删除集合最后一个元素，但集合本身是无序的，因此得谨慎使用

---

- 字典、集合的区别：集合没有键和值的配对，是一系列无序、唯一的元素组合

1. 集合不支持索引操作。因为**集合** 本质上是一个高度优化哈希表（只有哈希值hash），和列表不一样
   1. 通过value in dict/set 来判断一个元素在不在字典或集合内
   2. 而对字典而言，也是哈希表，不过存储了哈希值、键和值这三个元素

2. 字典排序，通常根据键或值，进行升序或降序排序
   1. 集合，直接调用sorted(set) 即可

- 两者的性能

1. 相比列表和元组，**字典** 性能更优，特别是对于查找、添加和删除操作

### 字符串

- python的字符串是不可变的，immutable，

1. 只有通过创建新字符串来完成

### 输入与输出

- JSON，

1. 输入某些杂七杂八的信息，比如python字典，输出一个字符串
2. 输入这个字符串，可以输出包含原始信息的python字典

### 条件与循环

- 判断条件的省略用法

| 数据类型            | 结果                                |
| :------------------ | ----------------------------------- |
| string              | 空字符串解析为False，其余为True     |
| int                 | 0解析为False，其余为True            |
| bool                | True为True，False为False            |
| list/tuple/dict/set | iterable为空解析为False，其余为True |
| object              | None解析为False，其余为True         |

1. 我们鼓励，除了boolean类型的数据，条件判断最好为显性的。比如在判断一个整型数是否为0时，最好写出判断的条件：
   1. `if i != 0`  

- 循环

---

- for和while，两者的区别：

1. 通常的，如若只是遍历一个已知的集合，找出满足条件的元素，并进行相应的操作，那么for循环更简洁；
2. 在需要满足某个条件前，不停地重复某些操作，并且没有特定的集合需要去遍历，那么一般使用while循环

---

- 总结一下：

1. 条件语句中，if可以单独使用，但是elif和 else 必须和if同时搭配使用；而if条件语句的判断，除了boolean类型外，其他的最好显示出来
2. 在for循环中，如若需要同时访问索引和元素，可使用enumerate()函数来简化代码
3. 写条件与循环时，合理利用continue 或者break 来避免复杂的嵌套，是十分重要的
4. 要注意条件与循环的复用，简单功能往往可以用一行代码完成，极大提高代码质量与效率









